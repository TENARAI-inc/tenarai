第 1 週 基礎とコンポーネント

# 基礎項目

## 変数をつかってテキストを表示する

変数を利用してテキストを表示してみよう。  
変数という入れ物に文字列を入力し、その変数の値を画面に出力することができる。  
さらにこの変数の値をあとから書き換えることで、自動的に画面の出力も変更することができる。  
この変数の値と画面が連動していることをリアクティブと呼んだりする。  
vue や react などのライブラリの機能のひとつである。

::: tip
**変数と定数**  
どちらも値の入れ物ではあるが、変数はなんどでも出し入れができる。定数は一度しかいれることができない。  
とどのつまり、定数は変数で代用ができるが定数はメリットがある。  
「絶対に誰も書き換えることができないもの」という存在はバグが発生したときに真っ先に犯人から除外できる。  
基本的に想定外の動きをしているということは、想定外の値が入ったりしているためなのだ。  
変数だらけのソースコードより、定数だらけのソースコードのほうがバグは少ないと思われる。
:::

以下のファイルを追加してみよう

```vue
// apps/tenarai-sample-web/pages/sample.vue

<!-- ここがhtml -->
<template>
  <div>
    <!-- この書き方でtypescriptに宣言された変数titleを出力することができる -->
    <h1>{{ title }}</h1>
  </div>
</template>

<!-- ここがtypescript（ブラウザで実行されるときに自動的にjavascriptに変換される） -->
<script setup lang="ts">
const title = 'Sample Page';
</script>

<!-- ここがcss -->
<style scoped lang="css">
div {
  padding: 40px;
}
</style>
```

以下の url から開くことができる  
[http://localhost:3000/sample](http://localhost:3000/sample)

画面に `Sample Page` と出力されていれば成功だ。

### title 定数

ここでのポイントはこれである。

```js
const title = 'Sample Page';
```

const は定数を宣言しており、 = によって右側の文字列が入力されている。（右辺と左辺が同一という意味ではない）  
const で宣言することにより、プログラムの途中で再代入しようとするとエラーを発生させることができるため、明確な意思で定数にしていることを示すことができる。  
シングルクオート `'` で囲まれている部分が文字列である。  
::: info
文字列はダブルクオート`"`や String クラスで生成することもできるが、とりあえずこのやり方を覚えておけばよいだろう。
:::

### title を変数にする

```js
// 単なるjsの変数
let title = 'Sample Page'; // このtitleは文字列という型

// vueの変数
const title = ref('Sample Page'); // このtitleはオブジェクトという型
```

宣言子 const を let に変えてみると、title は再代入可能な変数だという宣言となる。  
これにより title は何らかのタイミングで別の値が格納されることが明確になった。（そうでない場合定数にすべきだからである）

一方で、vue の場合は const のまま変数にすることができる。  
ややこしいが、これは内部であつかっているアイテムの型と呼ばれる性質に起因する。  
ref という関数（後述）をつかって title 変数を初期化している。その初期化時に渡している値が文字列 `Sample Page` となっているのだ。  
この ref により変数 title は `リアクティブ`な値として画面と連動してふるまうことができる。

今回は vue での動作を前提としているので ref を使った変数を覚えてしまおう。

### ３秒後にページタイトルが変わるようにしよう

以下のコードに変更してみると、ページを表示後 3 秒たってからタイトルがかわるはずだ。  
当然タイトルは `Updated Sample Page Title` である。

```vue{12-16}
// apps/tenarai-sample-web/pages/sample.vue

<!-- ここがhtml -->
<template>
  <div>
    <h1>{{ title }}</h1>
  </div>
</template>

<!-- ここがtypescript（ブラウザで実行されるときに自動的にjavascriptに変換される） -->
<script setup lang="ts">
const title = ref('Sample Page');

setTimeout(() => {
  title.value = 'Updated Sample Page Title';
}, 3000);
</script>

<!-- ここがcss -->
<style scoped lang="css">
div {
  padding: 40px;
}
</style>
```

title は ref をつかってリアクティブになっている。  
ref の変数は `value` というプロパティ（そのアイテムがもつ設定値のこと）をもっており、そこに新しい値を `=` を使って代入することで変数の中身をさしかえることができる。

setTimeout はタイマーの関数であり、3000 という数字の時間が経過したあとに真ん中のコード（`title.value = ***`）が実行されるようになっている。  
これは js が最初からもっている関数（ビルトイン関数と呼ぶ）なので、自分で定義することなくいつでも使うことができる。

3000 はミリ秒という単位である。1 秒が 1000 ミリ秒なので３秒という指定となる。  
結果として画面を開いて３秒後に title 変数に値がセットされ、それを参照している template 内の title 参照箇所（`{`{ title `}`}）が変数の内容をそのまま出力しているということである。

::: tip
逆に言えば template 内で変数を参照しておけば、いつでも画面の文字を変数の中身をかえることで変更させることができるということになる。
:::

## 関数

## 配列をつかってリストを表示する

## オブジェクトと json
